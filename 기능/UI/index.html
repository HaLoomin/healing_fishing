<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UI</title>
</head>

<body>
    <canvas id="myCanvas" width="600" height="600" style="border: 1px solid;">
    <button id = 'button1'>장비</button>
    <button id = 'button2'>양동이</button>
    <button id = 'button3'>점수</button>
    <button id = 'button4'>게임방법</button>
    <button id = 'button5'>설정</button>
    </canvas>
    
    <script>
        myCanvas = document.getElementById('myCanvas');
        var ctx = myCanvas.getContext("2d");

        var button1 = document.getElementById('button1');
        var button2 = document.getElementById('button2');
        var button3 = document.getElementById('button3');
        var button4 = document.getElementById('button4');
        var button5 = document.getElementById('button5');


        document.addEventListener('focus', redraw, true);
        document.addEventListener('blur', redraw, true);
        myCanvas.addEventListener('click', handleClick, false);
        redraw();

        function redraw() {
            ctx.clearRect(0, 0, myCanvas.width, myCanvas.height);
            drawButton(button1, 20, 110);
            drawButton(button2, 20, 170);
            drawButton(button3, 20, 230);
            drawButton(button4, 20, 450);
            drawButton(button5, 20, 510);
        }

        // 클릭 좌표 계산
        function handleClick(e) {
            x = e.clientX - myCanvas.offsetLeft;
            y = e.clientY - myCanvas.offsetTop;

            drawButton(button1, 20, 110);
            if (ctx.isPointInPath(x,y)) {
                button1.focus();
            }
            drawButton(button2, 20, 170);
            if (ctx.isPointInPath(x,y)) {
                button1.focus();
            }
            drawButton(button3, 20, 230);
            if (ctx.isPointInPath(x,y)) {
                button1.focus();
            }
            drawButton(button4, 20, 450);
            if (ctx.isPointInPath(x,y)) {
                button1.focus();
            }
            drawButton(button5, 20, 510);
            if (ctx.isPointInPath(x,y)) {
                button1.focus();
            }
        }

        function drawButton(el, x, y) {
            active = document.activeElement === el;
            width = 70;
            height = 40;

            ctx.textAlign = 'center';
            ctx.fillText(el.textContent, x + width / 2, y + height / 2);

            // 클릭 가능 영역 정의
            ctx.beginPath();
            ctx.rect(x, y, width, height);

            ctx.drawFocusIfNeeded(el);
        } 

        // 좌측
        roundedRect(ctx, 10, 15, 90, 570, 15);

        ctx.strokeRect(20, 110, 70, 40);
        ctx.strokeRect(20, 170, 70, 40);
        ctx.strokeRect(20, 230, 70, 40);
        ctx.strokeRect(20, 450, 70, 40);
        ctx.strokeRect(20, 510, 70, 40);

        // 상단
        roundedRect(ctx, 115, 15, 470, 50, 15);
        
        ctx.strokeRect(130, 25, 90, 30);
        ctx.strokeRect(230, 25, 90, 30);
        ctx.strokeRect(480, 25, 90, 30);

        // 게임화면
        ctx.strokeRect(115, 80, 470, 440);

        // 하단
        roundedRect(ctx, 115, 535, 470, 50, 15);
        
        ctx.strokeRect(130, 545, 90, 30);

        function roundedRect(ctx, x, y, width, height, radius) {
            ctx.beginPath();
            ctx.moveTo(x, y + radius);
            ctx.lineTo(x, y + height - radius);
            ctx.arcTo(x, y + height, x + radius, y + height, radius);
            ctx.lineTo(x + width - radius, y + height);
            ctx.arcTo(x + width, y + height, x + width, y + height - radius, radius);
            ctx.lineTo(x + width, y + radius);
            ctx.arcTo(x + width, y, x + width - radius, y, radius);
            ctx.lineTo(x + radius, y);
            ctx.arcTo(x, y, x, y + radius, radius);
            ctx.stroke();
        }


    </script>
</body>

</html>